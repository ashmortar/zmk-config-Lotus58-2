# Copyright (c) 2022 The ZMK Contributors
# SPDX-License-Identifier: MIT

# Uncomment the following line to enable the Lotus58 OLED Display
# CONFIG_ZMK_DISPLAY=y

# Uncomment these two lines to add support for encoders
CONFIG_EC11=y
CONFIG_EC11_TRIGGER_GLOBAL_THREAD=y

# mouse 
CONFIG_ZMK_POINTING=y
CONFIG_BT_CTLR_TX_PWR_PLUS_8=y

# Aggressive split connection settings (stability over battery)
# Fastest connection interval (6 * 1.25ms = 7.5ms)
CONFIG_ZMK_SPLIT_BLE_PREF_INT=6
# No skipped intervals
CONFIG_ZMK_SPLIT_BLE_PREF_LATENCY=0
# Quick disconnect detection
CONFIG_ZMK_SPLIT_BLE_PREF_TIMEOUT=100

CONFIG_ZMK_SLEEP=y

CONFIG_ZMK_KEYBOARD_NAME="liminal"

# Enable split battery level reporting
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_FETCHING=y
CONFIG_ZMK_SPLIT_BLE_CENTRAL_BATTERY_LEVEL_PROXY=y

# zmk-nice-oled display configuration
CONFIG_ZMK_DISPLAY_STATUS_SCREEN_CUSTOM=y
# Full features memory/thread settings
CONFIG_LV_Z_MEM_POOL_SIZE=12288
CONFIG_LV_Z_VDB_SIZE=100
CONFIG_ZMK_DISPLAY_DEDICATED_THREAD_STACK_SIZE=4096
# Higher value = lower priority (typing takes precedence over display)
CONFIG_ZMK_DISPLAY_DEDICATED_THREAD_PRIORITY=10
CONFIG_ZMK_DISPLAY_WORK_QUEUE_DEDICATED=y

# Disable output background (fixes L-shaped artifact)
CONFIG_NICE_OLED_WIDGET_OUTPUT_BACKGROUND=n

# Move battery to top line (same row as BT icon, default y=19 wastes a line)
CONFIG_NICE_OLED_WIDGET_BATTERY_CUSTOM_X=0
CONFIG_NICE_OLED_WIDGET_BATTERY_CUSTOM_Y=0

# WPM animations - Bongo Cat + Graph
CONFIG_NICE_OLED_WIDGET_WPM=y
CONFIG_NICE_OLED_WIDGET_WPM_BONGO_CAT=y
CONFIG_NICE_OLED_WIDGET_WPM_BONGO_CAT_ANIMATION_MS=500
# Luna can't coexist with Bongo Cat (duplicate symbol names in module)
CONFIG_NICE_OLED_WIDGET_WPM_LUNA=n
CONFIG_NICE_OLED_WIDGET_WPM_GRAPH=y
# Responsive bongo cat missing rotated assets for Nice View
CONFIG_NICE_OLED_WIDGET_RESPONSIVE=n

# Bongo Cat position (default ePaper x=100 is off-screen)
CONFIG_NICE_OLED_WIDGET_BONGO_CAT_CUSTOM_X=5
CONFIG_NICE_OLED_WIDGET_BONGO_CAT_CUSTOM_Y=14

# WPM graph position (below Bongo Cat)
CONFIG_NICE_OLED_WIDGET_WPM_GAUGE_CUSTOM_X=5
CONFIG_NICE_OLED_WIDGET_WPM_GAUGE_CUSTOM_Y=48
CONFIG_NICE_OLED_WIDGET_WPM_LABEL_CUSTOM_X=5
CONFIG_NICE_OLED_WIDGET_WPM_LABEL_CUSTOM_Y=68

# HID indicators (caps lock etc)
CONFIG_NICE_OLED_WIDGET_HID_INDICATORS=y
CONFIG_NICE_OLED_WIDGET_HID_INDICATORS_CUSTOM_X=15
CONFIG_NICE_OLED_WIDGET_HID_INDICATORS_CUSTOM_Y=82

# Modifier indicators
CONFIG_NICE_OLED_WIDGET_MODIFIERS_INDICATORS=y
CONFIG_NICE_OLED_WIDGET_MODIFIERS_CUSTOM_X=10
CONFIG_NICE_OLED_WIDGET_MODIFIERS_CUSTOM_Y=96

CONFIG_NICE_OLED_SHOW_SLEEP_ART_ON_IDLE=y
CONFIG_NICE_OLED_SHOW_SLEEP_ART_ON_SLEEP=y
CONFIG_NICE_OLED_WIDGET_CENTRAL_SHOW_BATTERY_PERIPHERAL_ALL=y